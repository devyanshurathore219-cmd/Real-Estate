<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeHome | Luxury Black & Gold Interiors</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // NEW LUXURY PALETTE (Black, Gold, White, Cream)
                        
                        // 1. Gold (Accents)
                        gold: {
                            DEFAULT: '#D4AF37',    /* Classic Metallic Gold */
                            light: '#F4D06F',      /* Bright Gold */
                            dark: '#AA8C2C',       /* Antique Gold */
                            500: '#D4AF37',        /* Compatibility */
                        },

                        // 2. Cream & White (Backgrounds)
                        cream: {
                            DEFAULT: '#FAFAF5',    /* Very Light Cream */
                            100: '#FAFAF5',
                            200: '#F5F5F0',        /* Slightly Darker Cream */
                        },
                        
                        // 3. Black & Charcoal (Replacing Sepia/Browns)
                        black: {
                            DEFAULT: '#000000',
                            rich: '#050505',
                            charcoal: '#121212',
                            soft: '#1A1A1A'
                        },

                        // RE-MAPPING OLD CLASSES TO NEW PALETTE
                        sepia: {
                            100: '#A3A3A3',    /* Gray */
                            500: '#333333',    /* Dark Gray */
                            800: '#121212',    /* Soft Black */
                            900: '#000000',    /* Pure Black */
                        },

                        stone: {
                            50: '#FFFFFF',
                            100: '#FAFAF5',
                            200: '#F5F5F0',
                            300: '#E5E5E0',
                            400: '#A1A1AA',
                            500: '#71717A',
                            600: '#52525B',
                            700: '#3F3F46',
                            800: '#18181B',
                            900: '#09090B',
                        },
                        
                        terracotta: '#D4AF37', 
                        moss: {
                            50: '#FFFFFF',
                            100: '#FAFAF5',
                            800: '#121212',
                            900: '#000000'
                        },
                        charcoal: '#000000',
                    },
                    fontFamily: {
                        display: ['Playfair Display', 'serif'],
                        serif: ['Playfair Display', 'serif'],
                        sans: ['Montserrat', 'sans-serif'],
                        mono: ['monospace'],
                    },
                    backgroundImage: {
                        'blueprint-grid': "linear-gradient(#E5E5E0 1px, transparent 1px), linear-gradient(90deg, #E5E5E0 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        /* --- RESET & BASIC STYLES --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            background-color: #FAFAF5; /* Light Cream */
            color: #121212; /* Rich Charcoal Text */
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* --- VARIABLES --- */
        :root {
            --primary-light: #FAFAF5;
            --primary-dark: #000000;
            --card-dark: #121212;
            --text-grey: #71717A;
            --accent-gold: #D4AF37;
            --btn-brown: #121212;
            --gold: #D4AF37;
        }

        /* --- SCROLLBAR STYLING --- */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #000000; }
        ::-webkit-scrollbar-thumb { background: #D4AF37; border-radius: 3px;}

        /* Hide scrollbar utility class */
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* --- ANIMATION CLASSES --- */
        .fade-up, .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
        }
        .fade-in { opacity: 0; transition: opacity 1s ease-out; }
        .active { opacity: 1; transform: translateY(0) translateX(0); }
        .delay-100 { transition-delay: 0.1s; }
        .delay-200 { transition-delay: 0.2s; }
        .delay-300 { transition-delay: 0.3s; }
        .delay-400 { transition-delay: 0.4s; }

        /* Advanced Border Animation */
        .philosophy-card {
            position: relative;
            background: rgba(20, 20, 20, 0.4); 
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 3rem;
            overflow: hidden;
            transition: transform 0.6s cubic-bezier(0.2, 1, 0.3, 1);
            backdrop-filter: blur(10px);
        }

        .border-trace {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .border-trace rect {
            fill: none;
            stroke: #D4AF37; 
            stroke-width: 1;
            stroke-dasharray: 2000;
            stroke-dashoffset: 2000;
            transition: stroke-dashoffset 2.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .philosophy-card.active .border-trace rect {
            stroke-dashoffset: 0;
        }

        .glow-point {
            position: absolute;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.2) 0%, transparent 70%); 
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
            z-index: 1;
        }

        .philosophy-card:hover .glow-point { opacity: 1; }

        /* Image Mask Reveal */
        .image-mask {
            position: relative;
            overflow: hidden;
            clip-path: inset(0 100% 0 0);
            transition: clip-path 1.2s cubic-bezier(0.7, 0, 0.3, 1);
        }
        .reveal.active .image-mask { clip-path: inset(0 0 0 0); }

        /* Parallax Texture */
        .texture-overlay {
            position: absolute;
            inset: 0;
            background-image: url("https://www.transparenttextures.com/patterns/carbon-fibre.pattern");
            opacity: 0.05;
            pointer-events: none;
            mix-blend-mode: overlay;
        }

        /* Floating Stat Numbers */
        .stat-reveal {
            font-size: 0.8rem;
            letter-spacing: 0.4em;
            color: #D4AF37;
            overflow: hidden;
            display: block;
        }
        .stat-reveal span {
            display: block;
            transform: translateY(100%);
            transition: transform 0.8s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .active .stat-reveal span { transform: translateY(0); }

        /* Floating Accent Line */
        .accent-line {
            width: 0;
            height: 1px;
            background: #D4AF37;
            transition: width 1.5s cubic-bezier(0.2, 1, 0.3, 1);
            transition-delay: 0.5s;
        }
        .active .accent-line { width: 100px; }

        /* --- SECTION NUMBERS --- */
        .section-number { 
            position: absolute; 
            font-family: 'Playfair Display', serif; 
            font-size: 180px; 
            font-weight: 700; 
            color: rgba(255, 255, 255, 0.03); 
            top: 50%; right: 6%; 
            transform: translateY(-50%) translateX(50%); 
            line-height: 1; z-index: 0; pointer-events: none; 
        }

        /* --- WORK SECTION UNIQUE DESIGN --- */
        .project-card {
            position: relative;
            transition: all 0.6s cubic-bezier(0.2, 1, 0.3, 1);
            flex-shrink: 0;
        }

        .project-frame {
            position: absolute;
            inset: -15px;
            border: 1px solid rgba(212, 175, 55, 0);
            pointer-events: none;
            transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
            z-index: 5;
        }

        .project-frame::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 40px; height: 40px;
            border-top: 2px solid #D4AF37;
            border-left: 2px solid #D4AF37;
            opacity: 0.3;
            transition: all 0.6s ease;
        }

        .project-frame::after {
            content: '';
            position: absolute;
            bottom: 0; right: 0; width: 0; height: 0;
            border-bottom: 2px solid #D4AF37; 
            border-right: 2px solid #D4AF37; 
            opacity: 0;
            transition: all 0.6s ease;
        }

        .project-card:hover .project-frame::before { width: 100%; height: 100%; opacity: 1; }
        .project-card:hover .project-frame::after { width: 60px; height: 60px; opacity: 1; }

        .project-image-container {
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            transition: clip-path 0.8s cubic-bezier(0.2, 1, 0.3, 1);
        }

        .project-card:hover .project-image-container {
            clip-path: polygon(4% 4%, 96% 4%, 96% 96%, 4% 96%);
        }

        .custom-scroller::-webkit-scrollbar {
            height: 4px;
        }
        .custom-scroller::-webkit-scrollbar-thumb {
            background: rgba(212, 175, 55, 0.4);
        }

        /* --- WORK SECTION BORDER ANIMATION --- */
        .work-border-svg {
            position: absolute;
            left: 0;
            width: 100%;
            height: 60px; 
            z-index: 20;
            pointer-events: none;
            overflow: hidden;
        }
        .work-border-top { top: -1px; } 
        .work-border-bottom { bottom: -1px; }

        .work-border-path {
            fill: currentColor; 
        }

        .work-border-line {
            fill: none;
            stroke: #D4AF37;
            stroke-width: 1.5;
            stroke-dasharray: 2000;
            stroke-dashoffset: 2000;
            transition: stroke-dashoffset 2.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #work.active .work-border-line {
            stroke-dashoffset: 0;
        }
        @media (max-width: 768px) {
            .work-border-svg { height: 30px; }
        }

        /* --- JOURNEY / PROCESS SECTION STYLES --- */
        .journey-image {
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;
        }
        .journey-image.hidden-right { transform: translateX(100%); z-index: 10; }
        .journey-image.active { transform: translateX(0); z-index: 20; }
        .journey-image.exit-left { transform: translateX(-20%); z-index: 5; filter: brightness(0.7); }
        
        #process .section-number {
            left: 6%; 
            top: 4rem; 
            transform: translateX(-50%);
            font-family: 'Playfair Display', serif; 
            font-size: 8rem; 
            line-height: 1; 
            opacity: 0.1; 
            pointer-events: none;
            color: #000000;
            right: auto;
        }

        /* --- GALLERY MASONRY & FOCUS EFFECT (NEW) --- */
        
        /* The Focus Effect: When hovering the grid, non-hovered items fade out */
        .masonry-grid:hover .masonry-item:not(:hover) {
            opacity: 0.3;
            filter: grayscale(100%) blur(1px);
            transform: scale(0.98);
        }
        
        .masonry-item {
            transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        }

        /* Header Filter Button Active State */
        .filter-btn.active {
            color: white;
            border-bottom-color: #D4AF37;
            padding-bottom: 1rem;
            margin-bottom: -1.125rem; /* -mb-4.5 equivalent */
        }

        /* --- HEADER / NAVBAR --- */
        header {
            position: absolute; top: 0; left: 0; width: 100%;
            display: flex; justify-content: space-between; align-items: center;
            padding: 30px 80px; z-index: 100; color: white;
        }
        .logo { font-size: 20px; font-weight: 700; display: flex; align-items: center; gap: 10px; letter-spacing: 1px; }
        .logo-icon { width: 30px; height: 30px; background-color: rgba(255,255,255,0.9); transform: rotate(45deg); border: 1px solid #D4AF37; }
        nav { display: flex; align-items: center; gap: 40px; }
        nav a { text-decoration: none; color: white; font-size: 14px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; transition: color 0.3s; }
        nav a:hover { color: var(--accent-gold); }
        .contact-btn { background-color: white; color: black; padding: 12px 25px; border-radius: 25px; text-decoration: none; font-size: 13px; font-weight: 700; transition: all 0.3s, transform 0.2s; }
        .contact-btn:hover { background-color: var(--accent-gold); color: white; transform: scale(1.05); }

        /* --- HERO SECTION --- */
        .hero {
            position: relative; height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=2070&auto=format&fit=crop'); 
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; padding-left: 10%; color: white;
        }
        .hero-content { max-width: 600px; margin-top: -50px; }
        .hero-subtitle { font-size: 14px; letter-spacing: 4px; text-transform: uppercase; margin-bottom: 20px; opacity: 0.9; color: #D4AF37; font-weight: 600; }
        .hero h1 { font-size: 64px; line-height: 1.1; font-weight: 700; margin-bottom: 25px; text-transform: uppercase; }
        .hero p { font-size: 16px; line-height: 1.6; margin-bottom: 35px; opacity: 0.9; max-width: 450px; }
        .hero-btn { display: inline-block; background-color: transparent; border: 1px solid rgba(255,255,255,0.3); color: white; padding: 15px 35px; border-radius: 30px; text-decoration: none; font-weight: 600; font-size: 14px; text-transform: uppercase; transition: all 0.3s; }
        .hero-btn:hover { background-color: #D4AF37; border-color: #D4AF37; color: black; }

        /* --- GLASSMORPHIC BRIDGE --- */
        .glass-bridge-container { 
            display: flex; justify-content: center; margin-top: -100px; 
            position: relative; z-index: 20; padding: 0 5%; margin-bottom: 0px; 
        }
        .glass-bridge { 
            display: flex; width: 100%; max-width: 1200px; 
            background: rgba(0, 0, 0, 0.85); 
            backdrop-filter: blur(12px); 
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1); 
            border-top: 1px solid #D4AF37; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); border-radius: 2px;
        }
        .bridge-item { 
            flex: 1; padding: 40px 30px; display: flex; flex-direction: column; 
            justify-content: center; position: relative;
            border-right: 1px solid rgba(255,255,255,0.1); transition: all 0.4s ease; overflow: hidden;
        }
        .bridge-item:last-child { border-right: none; }
        .bridge-item::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.15), transparent);
            opacity: 0; transition: opacity 0.4s ease;
        }
        .bridge-item:hover::before { opacity: 1; }
        .bridge-item:hover { transform: translateY(-5px); background: #000000; }
        .bridge-icon { margin-bottom: 15px; color: var(--gold); width: 32px; height: 32px; }
        .bridge-title { color: white; font-family: 'Playfair Display', serif; font-size: 20px; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.5px; }
        .bridge-desc { color: rgba(255,255,255,0.6); font-size: 13px; line-height: 1.6; margin-bottom: 20px; }
        .bridge-link { color: var(--gold); text-decoration: none; font-size: 12px; text-transform: uppercase; font-weight: 700; letter-spacing: 1px; display: flex; align-items: center; gap: 8px; opacity: 0.8; transition: opacity 0.3s; }
        .bridge-link:hover { opacity: 1; gap: 12px; }

        @media (max-width: 768px) {
            .glass-bridge { flex-direction: column; }
            .bridge-item { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.1); padding: 30px; }
            .bridge-item:last-child { border-bottom: none; }
        }

        /* --- UPDATED PHILOSOPHY TRANSITION DECORATION --- */
        .transition-divider {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 150px; 
            z-index: 30; overflow: hidden; pointer-events: none;
        }
        .transition-divider svg {
            width: 100%; height: 100%; fill: #FAFAF5; transform: translateY(1px); 
        }
        .continuity-line {
            position: absolute; left: 50%; bottom: -75px; width: 1px; height: 250px;
            background: linear-gradient(to bottom, transparent, #D4AF37, #D4AF37, transparent);
            z-index: 40; transform: translateX(-50%) scaleY(0); transform-origin: top;
            transition: transform 1.5s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .active .continuity-line { transform: translateX(-50%) scaleY(1); }
        .transition-node {
            position: absolute; left: 50%; bottom: 75px; width: 8px; height: 8px;
            background: #D4AF37; border-radius: 50%; transform: translateX(-50%);
            z-index: 45; box-shadow: 0 0 20px #D4AF37; opacity: 0;
            transition: opacity 1s ease-out 0.5s;
        }
        .active .transition-node { opacity: 1; }

    </style>
</head>
<body>

    <header>
        <div class="logo">
            <div class="logo-icon"></div>
            MEHOME
        </div>
        <nav>
            <a href="#">Home</a>
            <a href="#philosophy">Philosophy</a>
            <a href="#services">Services</a>
            <a href="#work">Work</a>
            <a href="#contact" class="contact-btn">CONTACT US</a>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <div class="hero-subtitle fade-up">Welcome to MeHome</div>
            <h1 class="fade-up delay-100">Elegant. Timeless. <br>Exclusively Yours.</h1>
            <p class="fade-up delay-200">Where architectural precision meets the warmth of lived-in luxury. We craft environments that are as striking as they are serene.</p>
            <a href="#services" class="hero-btn fade-up delay-300">Discover Our Service</a>
        </div>
    </section>

    <!-- GLASSMORPHIC BRIDGE SECTION -->
    <section class="glass-bridge-container">
        <div class="glass-bridge fade-up delay-400">
            <div class="bridge-item">
                <i data-lucide="compass" class="bridge-icon"></i>
                <h3 class="bridge-title">Concept Design</h3>
                <p class="bridge-desc">Initial sketches and spatial planning that align with your lifestyle.</p>
                <a href="#" class="bridge-link">Read more <i data-lucide="arrow-right" class="w-3 h-3"></i></a>
            </div>
            <div class="bridge-item">
                <i data-lucide="layers" class="bridge-icon"></i>
                <h3 class="bridge-title">Material Selection</h3>
                <p class="bridge-desc">Curating rare stones, woods, and textiles from around the globe.</p>
                <a href="#" class="bridge-link">Read more <i data-lucide="arrow-right" class="w-3 h-3"></i></a>
            </div>
            <div class="bridge-item">
                <i data-lucide="hammer" class="bridge-icon"></i>
                <h3 class="bridge-title">Construction</h3>
                <p class="bridge-desc">Oversight of every nail and beam to ensure structural integrity.</p>
                <a href="#" class="bridge-link">Read more <i data-lucide="arrow-right" class="w-3 h-3"></i></a>
            </div>
        </div>
    </section>

    <!-- PHILOSOPHY SECTION (Black & Gold Theme) -->
    <section id="philosophy" class="relative pt-32 pb-64 px-6 overflow-visible bg-black">
        <!-- Ambient Background -->
        <div class="absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-stone-900/40 to-transparent pointer-events-none"></div>
        <div class="absolute -top-24 -left-24 w-96 h-96 bg-gold/10 rounded-full blur-[120px]"></div>

        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
                <!-- Left: Textual Content -->
                <div class="lg:col-span-5 relative z-10">
                    <div class="reveal" id="philosophy-trigger">
                        <div class="flex items-center gap-4 mb-8">
                            <div class="accent-line"></div>
                            <span class="stat-reveal font-sans uppercase"><span>Established 1998</span></span>
                        </div>
                        <h2 class="font-display text-5xl md:text-7xl text-white leading-[1.1] mb-10">
                            The Architecture of <br>
                            <span class="italic text-gold">Silent Luxury.</span>
                        </h2>
                        <!-- Animated Border Card -->
                        <div class="philosophy-card group" id="main-card">
                            <div class="texture-overlay"></div>
                            <svg class="border-trace">
                                <rect x="0" y="0" width="100%" height="100%" />
                            </svg>
                            <div class="glow-point" id="card-glow"></div>
                            <div class="relative z-10">
                                <p class="text-stone-300 text-lg leading-relaxed mb-8 font-light">
                                    We believe that space is more than just dimensions; it is an emotional resonance. At MeHome, our philosophy centers on <span class="text-white font-medium">Atmospheric Integrity</span>—the delicate balance between raw materiality and refined comfort.
                                </p>
                                <div class="grid grid-cols-2 gap-8 border-t border-white/10 pt-8">
                                    <div>
                                        <h4 class="text-white font-display text-xl mb-2 italic">Intentionality</h4>
                                        <p class="text-stone-500 text-xs leading-loose">Every shadow is curated; every highlight is earned. We design for the way light moves at dusk.</p>
                                    </div>
                                    <div>
                                        <h4 class="text-white font-display text-xl mb-2 italic">Temporality</h4>
                                        <p class="text-stone-500 text-xs leading-loose">Materials that age gracefully, developing a patina that tells your unique life story.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Signature -->
                        <div class="mt-12 flex items-center gap-6">
                            <div class="w-16 h-16 rounded-full overflow-hidden border border-gold/30 p-1">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop" class="w-full h-full object-cover grayscale" alt="James Holloway">
                            </div>
                            <div>
                                <p class="text-white font-display text-lg">James Holloway</p>
                                <p class="text-gold text-[9px] uppercase tracking-[0.3em]">Chief Visionary Officer</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right: Visual Composition -->
                <div class="lg:col-span-7 relative">
                    <div class="reveal delay-300">
                        <div class="grid grid-cols-10 grid-rows-6 gap-4 h-[600px] md:h-[800px]">
                            <div class="col-start-1 col-end-9 row-start-1 row-end-5 image-mask shadow-2xl">
                                <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop" 
                                     class="w-full h-full object-cover transition-transform duration-[3s] hover:scale-110" 
                                     alt="Interior Detail">
                                <div class="absolute inset-0 bg-black/30 hover:bg-transparent transition-colors duration-700"></div>
                            </div>
                            <div class="col-start-6 col-end-11 row-start-3 row-end-7 z-20 shadow-2xl translate-y-12">
                                <div class="w-full h-full p-2 bg-stone-900 border border-white/10">
                                    <img src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=2000&auto=format&fit=crop" 
                                         class="w-full h-full object-cover filter contrast-125 brightness-75 hover:brightness-100 transition-all duration-1000" 
                                         alt="Material Texture">
                                    <div class="absolute top-8 right-8 text-gold font-display italic text-6xl opacity-30 pointer-events-none">02</div>
                                </div>
                            </div>
                            <div class="col-start-2 col-end-4 row-start-5 row-end-7 bg-gold/10 backdrop-blur-md border border-gold/20 flex items-center justify-center p-8">
                                <i data-lucide="shield-check" class="text-gold w-8 h-8 opacity-70"></i>
                            </div>
                        </div>
                    </div>
                    <div class="absolute -bottom-20 -right-10 text-[12vw] font-display font-bold text-white/[0.03] pointer-events-none select-none">
                        AESTHETIC
                    </div>
                </div>
            </div>
        </div>
        <!-- Divider -->
        <div class="transition-divider">
            <svg preserveAspectRatio="none" viewBox="0 0 1200 120" xmlns="http://www.w3.org/2000/svg">
                <path d="M1200 120H0V28C150 100 350 120 600 80C850 40 1050 20 1200 80V120Z" />
            </svg>
            <div class="transition-node"></div>
        </div>
        <div class="continuity-line" id="scroll-continuity-line"></div>
    </section>

    <!-- SERVICES SECTION: (Cream & Black Theme) -->
    <section id="services" class="bg-cream py-24 md:py-32 px-6 md:px-12 relative overflow-hidden">
        
        <!-- DESIGN ELEMENT 1: Elegant Left Axis (Minimalist) -->
        <div class="absolute left-6 md:left-12 top-20 bottom-20 w-px bg-gradient-to-b from-transparent via-stone-300 to-transparent hidden md:block opacity-60">
             <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rotate-45 bg-gold border border-stone-200"></div>
        </div>

        <!-- DESIGN ELEMENT 2: Large Abstract Geometric Motif (Right) -->
        <div class="absolute -right-20 top-1/2 -translate-y-1/2 w-[600px] h-[600px] pointer-events-none opacity-[0.03]">
             <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="w-full h-full text-black fill-current">
                <path d="M100 0 L110 90 L200 100 L110 110 L100 200 L90 110 L0 100 L90 90 Z" />
                <circle cx="100" cy="100" r="40" stroke="currentColor" stroke-width="1" fill="none" />
             </svg>
        </div>


        <div class="max-w-7xl mx-auto relative z-20">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 fade-up">
                <div>
                    <span class="text-gold text-xs uppercase tracking-[0.4em] font-bold mb-4 block ml-1">Excellence</span>
                    <h2 class="font-display text-5xl md:text-7xl text-black font-bold leading-tight">Our <br>Expertise</h2>
                </div>
                <p class="text-stone-600 font-light max-w-sm mt-8 md:mt-0 text-lg border-l border-gold pl-8 leading-relaxed">
                    A vertically integrated approach to creating your legacy estate.
                </p>
            </div>

            <div class="flex flex-col border-t border-stone-200">
                
                <!-- Service 1: Land Acquisition -->
                <div class="group border-b border-stone-200 transition-all duration-300 cursor-pointer fade-up">
                    <!-- Closed State / Header -->
                    <div class="py-8 px-4 flex justify-between items-center bg-cream group-hover:bg-white transition-colors">
                        <div class="flex items-center gap-8">
                            <span class="font-display text-4xl text-stone-300 group-hover:text-gold transition-colors duration-500">01</span>
                            <h3 class="font-display text-3xl md:text-4xl text-black group-hover:translate-x-4 transition-transform duration-500">Land Acquisition</h3>
                        </div>
                        <div class="w-10 h-10 rounded-full border border-stone-300 flex items-center justify-center text-stone-500 group-hover:border-gold group-hover:text-gold group-hover:rotate-90 transition-all duration-300">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    
                    <!-- Expanded State / Dark Panel (Black) -->
                    <div class="h-0 overflow-hidden group-hover:h-auto transition-all duration-500 ease-in-out">
                        <div class="bg-black p-8 md:p-12 mb-8 mx-4 rounded-b-sm shadow-2xl relative">
                            <!-- Interior Decorative Line -->
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-gold to-transparent opacity-80"></div>
                            
                            <div class="flex flex-col md:flex-row gap-12">
                                <!-- Col 1: Visual -->
                                <div class="w-full md:w-1/3 relative h-[300px] md:h-[22rem] overflow-hidden border border-white/10">
                                    <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=1932&auto=format&fit=crop" 
                                         class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000 transform scale-105 group-hover:scale-100" 
                                         alt="Land Acquisition">
                                    <div class="absolute bottom-0 left-0 bg-white p-3">
                                        <span class="text-xs font-mono font-bold tracking-widest text-black">FIG. 01</span>
                                    </div>
                                </div>

                                <!-- Col 2: Content Grid -->
                                <div class="w-full md:w-2/3 flex flex-col justify-between">
                                    <div>
                                        <h4 class="text-white font-display text-2xl mb-6">Foundations of Legacy</h4>
                                        <p class="text-stone-300 font-light leading-relaxed text-lg max-w-2xl">
                                            We don't just find plots; we find ecosystems. Our team scouts locations based on solar orientation, water tables, and topographical privacy to ensure your home feels rooted in the earth.
                                        </p>
                                    </div>
                                    
                                    <div class="mt-10 pt-10 border-t border-stone-800 grid grid-cols-2 gap-8">
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Capabilities</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— Site Feasibility Studies</li>
                                                <li>— Environmental Impact</li>
                                                <li>— Topographical Surveys</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Deliverables</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— Zoning Analysis Report</li>
                                                <li>— Solar Path Diagram</li>
                                                <li>— Land Transfer Mgmt</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 2: Architectural Design -->
                <div class="group border-b border-stone-200 transition-all duration-300 cursor-pointer fade-up delay-100">
                    <!-- Closed State -->
                    <div class="py-8 px-4 flex justify-between items-center bg-cream group-hover:bg-white transition-colors">
                        <div class="flex items-center gap-8">
                            <span class="font-display text-4xl text-stone-300 group-hover:text-gold transition-colors duration-500">02</span>
                            <h3 class="font-display text-3xl md:text-4xl text-black group-hover:translate-x-4 transition-transform duration-500">Architectural Design</h3>
                        </div>
                        <div class="w-10 h-10 rounded-full border border-stone-300 flex items-center justify-center text-stone-500 group-hover:border-gold group-hover:text-gold group-hover:rotate-90 transition-all duration-300">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    
                    <!-- Expanded State -->
                    <div class="h-0 overflow-hidden group-hover:h-auto transition-all duration-500 ease-in-out">
                        <div class="bg-black p-8 md:p-12 mb-8 mx-4 rounded-b-sm shadow-2xl relative">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-gold to-transparent opacity-80"></div>

                            <div class="flex flex-col md:flex-row gap-12">
                                <div class="w-full md:w-1/3 relative h-[300px] md:h-[22rem] overflow-hidden border border-white/10">
                                    <img src="https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=2584&auto=format&fit=crop" 
                                         class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000 transform scale-105 group-hover:scale-100" 
                                         alt="Architecture">
                                     <div class="absolute bottom-0 left-0 bg-white p-3">
                                        <span class="text-xs font-mono font-bold tracking-widest text-black">FIG. 02</span>
                                    </div>
                                </div>

                                <div class="w-full md:w-2/3 flex flex-col justify-between">
                                    <div>
                                        <h4 class="text-white font-display text-2xl mb-6">Form Follows Emotion</h4>
                                        <p class="text-stone-300 font-light leading-relaxed text-lg max-w-2xl">
                                            Bespoke blueprints that defy the ordinary. From brutalist concrete shells to warm timber frames, we design for the light, ensuring every room captures the sun at the perfect angle.
                                        </p>
                                    </div>
                                    
                                    <div class="mt-10 pt-10 border-t border-stone-800 grid grid-cols-2 gap-8">
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Capabilities</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— Concept Development</li>
                                                <li>— Structural Engineering</li>
                                                <li>— Material Curation</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Deliverables</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— 3D Renderings</li>
                                                <li>— CAD Construction Sets</li>
                                                <li>— VR Walkthroughs</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 3: Interiors & Landscape -->
                <div class="group border-b border-stone-200 transition-all duration-300 cursor-pointer fade-up delay-200">
                    <!-- Closed State -->
                    <div class="py-8 px-4 flex justify-between items-center bg-cream group-hover:bg-white transition-colors">
                        <div class="flex items-center gap-8">
                            <span class="font-display text-4xl text-stone-300 group-hover:text-gold transition-colors duration-500">03</span>
                            <h3 class="font-display text-3xl md:text-4xl text-black group-hover:translate-x-4 transition-transform duration-500">Interiors & Landscape</h3>
                        </div>
                        <div class="w-10 h-10 rounded-full border border-stone-300 flex items-center justify-center text-stone-500 group-hover:border-gold group-hover:text-gold group-hover:rotate-90 transition-all duration-300">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    
                    <!-- Expanded State -->
                    <div class="h-0 overflow-hidden group-hover:h-auto transition-all duration-500 ease-in-out">
                        <div class="bg-black p-8 md:p-12 mb-8 mx-4 rounded-b-sm shadow-2xl relative">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-gold to-transparent opacity-80"></div>

                            <div class="flex flex-col md:flex-row gap-12">
                                <div class="w-full md:w-1/3 relative h-[300px] md:h-[22rem] overflow-hidden border border-white/10">
                                    <img src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=2000&auto=format&fit=crop" 
                                         class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000 transform scale-105 group-hover:scale-100" 
                                         alt="Interiors">
                                     <div class="absolute bottom-0 left-0 bg-white p-3">
                                        <span class="text-xs font-mono font-bold tracking-widest text-black">FIG. 03</span>
                                    </div>
                                </div>

                                <div class="w-full md:w-2/3 flex flex-col justify-between">
                                    <div>
                                        <h4 class="text-white font-display text-2xl mb-6">Inside Out Flow</h4>
                                        <p class="text-stone-300 font-light leading-relaxed text-lg max-w-2xl">
                                            Seamlessly blending the indoors and outdoors. We handle everything from custom joinery and furniture selection to native planting that thrives in your specific climate.
                                        </p>
                                    </div>
                                    
                                    <div class="mt-10 pt-10 border-t border-stone-800 grid grid-cols-2 gap-8">
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Capabilities</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— Custom Furniture</li>
                                                <li>— Native Planting</li>
                                                <li>— Lighting Design</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Deliverables</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— Mood Boards</li>
                                                <li>— Sourcing Lists</li>
                                                <li>— Installation Oversight</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 4: Estate Management -->
                <div class="group border-b border-stone-200 transition-all duration-300 cursor-pointer fade-up delay-300">
                    <!-- Closed State -->
                    <div class="py-8 px-4 flex justify-between items-center bg-cream group-hover:bg-white transition-colors">
                        <div class="flex items-center gap-8">
                            <span class="font-display text-4xl text-stone-300 group-hover:text-gold transition-colors duration-500">04</span>
                            <h3 class="font-display text-3xl md:text-4xl text-black group-hover:translate-x-4 transition-transform duration-500">Estate Management</h3>
                        </div>
                        <div class="w-10 h-10 rounded-full border border-stone-300 flex items-center justify-center text-stone-500 group-hover:border-gold group-hover:text-gold group-hover:rotate-90 transition-all duration-300">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </div>
                    </div>
                    
                    <!-- Expanded State -->
                    <div class="h-0 overflow-hidden group-hover:h-auto transition-all duration-500 ease-in-out">
                        <div class="bg-black p-8 md:p-12 mb-8 mx-4 rounded-b-sm shadow-2xl relative">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-gold to-transparent opacity-80"></div>
                            
                            <div class="flex flex-col md:flex-row gap-12">
                                <div class="w-full md:w-1/3 relative h-[300px] md:h-[22rem] overflow-hidden border border-white/10">
                                    <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=2070&auto=format&fit=crop" 
                                         class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000 transform scale-105 group-hover:scale-100" 
                                         alt="Management">
                                     <div class="absolute bottom-0 left-0 bg-white p-3">
                                        <span class="text-xs font-mono font-bold tracking-widest text-black">FIG. 04</span>
                                    </div>
                                </div>

                                <div class="w-full md:w-2/3 flex flex-col justify-between">
                                    <div>
                                        <h4 class="text-white font-display text-2xl mb-6">Concierge Living</h4>
                                        <p class="text-stone-300 font-light leading-relaxed text-lg max-w-2xl">
                                            A true turnkey experience. Once the keys are yours, we offer ongoing maintenance and security services to ensure your legacy estate remains pristine for generations.
                                        </p>
                                    </div>
                                    
                                    <div class="mt-10 pt-10 border-t border-stone-800 grid grid-cols-2 gap-8">
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Capabilities</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— 24/7 Security</li>
                                                <li>— Seasonal Maintenance</li>
                                                <li>— Event Preparation</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <span class="block text-gold text-xs font-bold uppercase tracking-widest mb-4">Deliverables</span>
                                            <ul class="text-sm text-stone-400 font-mono space-y-2">
                                                <li>— Annual Reports</li>
                                                <li>— Staffing Solutions</li>
                                                <li>— Smart Home Updates</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- SELECTED WORK SECTION (Black & Gold) -->
    <section id="work" class="py-40 bg-black text-stone-100 overflow-hidden relative reveal">
        <!-- Top Architectural Border -->
        <div class="work-border-svg work-border-top text-cream">
             <svg viewBox="0 0 1200 60" preserveAspectRatio="none" class="w-full h-full">
                <!-- Match previous section color -->
                <path d="M0,0 H1200 V30 H800 L750 60 H450 L400 30 H0 V0 Z" class="work-border-path" />
                <!-- Gold Accent Line -->
                <path d="M0,30 H400 L450 60 H750 L800 30 H1200" class="work-border-line" />
            </svg>
        </div>

        <div class="section-number">04</div>
        
        <!-- Axis Line -->
        <div class="absolute top-0 left-[8%] w-[1px] h-full bg-white/5 hidden md:block"></div> 

        <div class="container mx-auto px-6 pl-0 md:pl-[10%] relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-end mb-24 fade-up">
                <div>
                    <span class="text-gold text-xs uppercase tracking-[0.5em] font-bold mb-4 block">Portfolio</span>
                    <h2 class="font-display text-6xl md:text-8xl font-bold tracking-tight">Selected<br><span class="text-stone-500 italic">Projects</span></h2>
                </div>
                <div class="hidden md:block">
                    <p class="text-stone-400 text-sm max-w-[200px] mb-6 leading-relaxed">Each space is a dialogue between light, material, and purpose.</p>
                    <a href="#" class="text-white uppercase tracking-[0.2em] text-[10px] hover:text-gold transition-colors border-b border-gold/40 pb-2">Full Archive</a>
                </div>
            </div>
        </div>

        <!-- Horizontal Scroll Container -->
        <div id="project-scroller" class="pl-6 md:pl-[calc(10%+1.5rem)] pr-12 overflow-x-auto pb-24 snap-x flex flex-nowrap gap-12 md:gap-20 custom-scroller">
            
            <!-- Project 1 -->
            <div class="min-w-[85vw] md:min-w-[42vw] snap-center group fade-up relative project-card">
                <div class="project-frame"></div>
                <div class="relative overflow-hidden h-[55vh] mb-10 project-image-container shadow-2xl">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110" alt="The Onyx Cabin">
                    <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors duration-1000"></div>
                </div>
                
                <div class="flex flex-col md:flex-row gap-6 md:gap-12 relative">
                    <div class="flex flex-row md:flex-col gap-4 border-l md:border-l-0 md:border-t border-stone-800 pt-0 md:pt-4 pl-4 md:pl-0">
                        <span class="font-display text-4xl text-gold/60 group-hover:text-gold transition-colors italic">01.</span>
                        <span class="text-[10px] uppercase tracking-[0.4em] text-stone-500">Aspen</span>
                    </div>
                    
                    <div class="flex-1">
                        <h3 class="font-display text-4xl mb-4 group-hover:text-gold transition-colors duration-500">The Onyx Cabin</h3>
                        <p class="text-stone-400 text-sm leading-relaxed max-w-md font-light">
                            A brutalist retreat integrated into the jagged peaks of Colorado. Utilizing raw concrete slabs and floor-to-ceiling obsidian glass.
                        </p>
                        <div class="mt-8 flex items-center gap-4 group-hover:gap-6 transition-all cursor-pointer">
                            <div class="h-[1px] w-8 bg-gold/50 group-hover:w-12 transition-all"></div>
                            <span class="text-[10px] uppercase tracking-widest text-gold font-bold">Explore Residence</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Project 2 -->
            <div class="min-w-[85vw] md:min-w-[42vw] snap-center group fade-up delay-100 relative project-card">
                <div class="project-frame"></div>
                <div class="relative overflow-hidden h-[55vh] mb-10 project-image-container shadow-2xl">
                    <img src="https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=1974&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110" alt="River's Edge">
                    <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors duration-1000"></div>
                </div>
                
                <div class="flex flex-col md:flex-row gap-6 md:gap-12 relative">
                    <div class="flex flex-row md:flex-col gap-4 border-l md:border-l-0 md:border-t border-stone-800 pt-0 md:pt-4 pl-4 md:pl-0">
                        <span class="font-display text-4xl text-gold/60 group-hover:text-gold transition-colors italic">02.</span>
                        <span class="text-[10px] uppercase tracking-[0.4em] text-stone-500">Austin</span>
                    </div>
                    
                    <div class="flex-1">
                        <h3 class="font-display text-4xl mb-4 group-hover:text-gold transition-colors duration-500">River's Edge Estate</h3>
                        <p class="text-stone-400 text-sm leading-relaxed max-w-md font-light">
                            A seamless transition between the limestone bluffs of Texas and a sophisticated, airy interior defined by natural oak.
                        </p>
                        <div class="mt-8 flex items-center gap-4 group-hover:gap-6 transition-all cursor-pointer">
                            <div class="h-[1px] w-8 bg-gold/50 group-hover:w-12 transition-all"></div>
                            <span class="text-[10px] uppercase tracking-widest text-gold font-bold">Explore Residence</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Project 3 -->
            <div class="min-w-[85vw] md:min-w-[42vw] snap-center group fade-up delay-200 relative project-card">
                <div class="project-frame"></div>
                <div class="relative overflow-hidden h-[55vh] mb-10 project-image-container shadow-2xl">
                    <img src="https://images.unsplash.com/photo-1598228723793-52759bba239c?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110" alt="Concrete & Oak">
                    <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors duration-1000"></div>
                </div>
                
                <div class="flex flex-col md:flex-row gap-6 md:gap-12 relative">
                    <div class="flex flex-row md:flex-col gap-4 border-l md:border-l-0 md:border-t border-stone-800 pt-0 md:pt-4 pl-4 md:pl-0">
                        <span class="font-display text-4xl text-gold/60 group-hover:text-gold transition-colors italic">03.</span>
                        <span class="text-[10px] uppercase tracking-[0.4em] text-stone-500">Portland</span>
                    </div>
                    
                    <div class="flex-1">
                        <h3 class="font-display text-4xl mb-4 group-hover:text-gold transition-colors duration-500">Concrete & Oak</h3>
                        <p class="text-stone-400 text-sm leading-relaxed max-w-md font-light">
                            A mid-century modern restoration focusing on sustainability and the interplay of raw texture and warmth.
                        </p>
                        <div class="mt-8 flex items-center gap-4 group-hover:gap-6 transition-all cursor-pointer">
                            <div class="h-[1px] w-8 bg-gold/50 group-hover:w-12 transition-all"></div>
                            <span class="text-[10px] uppercase tracking-widest text-gold font-bold">Explore Residence</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom Scroll Indicator -->
        <div class="container mx-auto px-6 md:pl-[10%] mt-12 flex items-center gap-4">
            <div class="w-32 h-[1px] bg-stone-800 relative overflow-hidden">
                <div id="scroll-progress" class="absolute top-0 left-0 h-full bg-gold w-0 transition-all duration-300"></div>
            </div>
            <span class="text-[10px] uppercase tracking-[0.3em] text-stone-600 font-bold">Scroll horizontally to view projects</span>
        </div>

        <!-- Bottom Architectural Border -->
        <div class="work-border-svg work-border-bottom text-black">
            <svg viewBox="0 0 1200 60" preserveAspectRatio="none" class="w-full h-full">
               <!-- Match next section color (Black) -->
               <path d="M0,60 H1200 V30 H800 L750 0 H450 L400 30 H0 V60 Z" class="work-border-path" />
               <!-- Gold Accent Line -->
               <path d="M0,30 H400 L450 0 H750 L800 30 H1200" class="work-border-line" />
           </svg>
       </div>
    </section>

    <!-- PROCESS SECTION - UPGRADED WITH ARCHITECTURAL ELEMENTS -->
    <section id="process" class="py-32 bg-cream relative overflow-hidden">
        
        <!-- EXISTING BACKGROUND: Blueprint Grid -->
        <div class="absolute inset-0 bg-blueprint-grid bg-[length:40px_40px] opacity-40 pointer-events-none"></div>

        <!-- DESIGN ELEMENT 1: Left Vertical Architectural Scale/Ruler -->
        <div class="absolute left-0 top-0 bottom-0 w-24 hidden md:flex flex-col justify-between items-center py-20 pointer-events-none opacity-20 border-r border-stone-300 z-0 select-none">
            <div class="h-full w-[1px] bg-stone-400 relative">
                <!-- Decorative Ticks -->
                <div class="absolute top-0 left-[-10px] w-5 h-[1px] bg-black"></div>
                <div class="absolute top-1/4 left-[-5px] w-3 h-[1px] bg-stone-400"></div>
                <div class="absolute top-2/4 left-[-10px] w-5 h-[1px] bg-black"></div>
                <div class="absolute top-3/4 left-[-5px] w-3 h-[1px] bg-stone-400"></div>
                <div class="absolute bottom-0 left-[-10px] w-5 h-[1px] bg-black"></div>
            </div>
            <!-- Vertical Text -->
            <div class="absolute top-1/2 -translate-y-1/2 -rotate-90 text-[9px] tracking-[0.6em] text-stone-500 font-mono whitespace-nowrap">
                CONSTRUCTION PHASE TIMELINE // REV.05
            </div>
        </div>

        <!-- DESIGN ELEMENT 2: Large Background Geometry (Right Side) -->
        <div class="absolute right-[-10%] top-[-15%] pointer-events-none z-0 opacity-[0.05]">
             <svg width="800" height="800" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="400" cy="400" r="399" stroke="#000000" stroke-width="1"/>
                <circle cx="400" cy="400" r="300" stroke="#000000" stroke-width="0.5" stroke-dasharray="10 10"/>
                <circle cx="400" cy="400" r="200" stroke="#000000" stroke-width="0.5"/>
                <line x1="400" y1="0" x2="400" y2="800" stroke="#000000" stroke-width="0.5"/>
                <line x1="0" y1="400" x2="800" y2="400" stroke="#000000" stroke-width="0.5"/>
                <!-- Sun Path Arcs -->
                <path d="M100 400 Q 400 100 700 400" stroke="#000000" stroke-width="0.5" fill="none"/>
                <path d="M150 400 Q 400 150 650 400" stroke="#000000" stroke-width="0.5" fill="none"/>
            </svg>
        </div>

        <!-- DESIGN ELEMENT 3: Structural Corner Brackets -->
        <div class="absolute top-12 left-10 md:left-32 w-16 h-16 border-t border-l border-black/20 pointer-events-none z-0"></div>
        <div class="absolute bottom-12 right-10 w-16 h-16 border-b border-r border-black/20 pointer-events-none z-0"></div>

        <!-- DESIGN ELEMENT 4: Connecting Lines (Subtle) -->
        <div class="absolute inset-0 pointer-events-none z-0 opacity-10 hidden md:block">
            <svg class="w-full h-full">
                <line x1="33.33%" y1="15%" x2="33.33%" y2="85%" stroke="#000000" stroke-dasharray="4 4" stroke-width="1"/>
            </svg>
        </div>

        <!-- Large Background Number (Adjusted Position) -->
        <div class="absolute top-10 right-[10%] font-display text-[120px] md:text-[200px] leading-none text-stone-200 font-bold z-0 select-none pointer-events-none">
            05
        </div>
        
        <div class="container mx-auto px-6 relative z-10 md:pl-[8%]">
            <div class="text-center md:text-left mb-20 flex flex-col md:block items-center">
                <div class="inline-block relative">
                     <span class="text-black tracking-[0.3em] uppercase text-xs font-bold bg-cream px-2 relative z-10">The Journey</span>
                     <!-- Small architectural detail under title -->
                     <div class="absolute bottom-2 left-0 w-full h-[1px] bg-black/30 -z-0 translate-y-2"></div>
                </div>
                <h2 class="font-serif text-5xl text-black mt-4 font-bold bg-cream inline-block pr-4">From Dream to Reality</h2>
            </div>

            <div class="flex flex-col lg:flex-row gap-16 lg:h-[600px] items-stretch">
                
                <!-- Left Side: Interactive Steps List -->
                <div class="w-full lg:w-1/3 flex flex-col justify-between">
                    
                    <!-- Step 1 -->
                    <div class="process-step group p-8 cursor-pointer border border-black shadow-lg bg-white transition-all duration-300 relative" 
                         onmouseenter="activateStep(0)" onclick="activateStep(0)">
                        <div class="absolute top-4 right-4 text-xs font-mono text-stone-400 group-hover:text-gold">001</div>
                        <div class="flex items-center mb-4">
                            <span class="text-2xl font-serif text-black font-bold group-hover:translate-x-2 transition-transform">Discovery</span>
                        </div>
                        <p class="text-sm text-stone-600 transition-all duration-500 overflow-hidden leading-relaxed" style="height: auto; opacity: 1;">
                            Private consultation to map vision, lifestyle needs, and land characteristics.
                        </p>
                    </div>

                    <!-- Step 2 -->
                    <div class="process-step group p-8 cursor-pointer border border-stone-200 bg-white transition-all duration-300 relative" 
                         onmouseenter="activateStep(1)" onclick="activateStep(1)">
                        <div class="absolute top-4 right-4 text-xs font-mono text-stone-400 group-hover:text-gold">002</div>
                        <div class="flex items-center mb-4">
                            <span class="text-2xl font-serif text-black font-bold group-hover:translate-x-2 transition-transform">Design</span>
                        </div>
                        <p class="text-sm text-stone-600 transition-all duration-500 overflow-hidden leading-relaxed" style="height: 0; opacity: 0;">
                            Drafting bespoke blueprints, material selection, and 3D modeling.
                        </p>
                    </div>

                    <!-- Step 3 -->
                    <div class="process-step group p-8 cursor-pointer border border-stone-200 bg-white transition-all duration-300 relative" 
                         onmouseenter="activateStep(2)" onclick="activateStep(2)">
                        <div class="absolute top-4 right-4 text-xs font-mono text-stone-400 group-hover:text-gold">003</div>
                        <div class="flex items-center mb-4">
                            <span class="text-2xl font-serif text-black font-bold group-hover:translate-x-2 transition-transform">Build</span>
                        </div>
                        <p class="text-sm text-stone-600 transition-all duration-500 overflow-hidden leading-relaxed" style="height: 0; opacity: 0;">
                            Foundation pouring, structural framing, and custom joinery installation.
                        </p>
                    </div>

                    <!-- Step 4 -->
                    <div class="process-step group p-8 cursor-pointer border border-stone-200 bg-white transition-all duration-300 relative" 
                         onmouseenter="activateStep(3)" onclick="activateStep(3)">
                        <div class="absolute top-4 right-4 text-xs font-mono text-stone-400 group-hover:text-gold">004</div>
                        <div class="flex items-center mb-4">
                            <span class="text-2xl font-serif text-black font-bold group-hover:translate-x-2 transition-transform">Handover</span>
                        </div>
                        <p class="text-sm text-stone-600 transition-all duration-500 overflow-hidden leading-relaxed" style="height: 0; opacity: 0;">
                            Final walkthrough, system orientation, and key delivery.
                        </p>
                    </div>

                </div>

                <!-- Right Side: Dynamic Image Stage -->
                <div class="w-full lg:w-2/3 relative h-[400px] lg:h-auto border border-black p-2 bg-white shadow-2xl">
                    <div class="relative w-full h-full overflow-hidden">
                        <!-- Technical Crosshairs -->
                        <div class="absolute top-4 left-4 w-4 h-4 border-t border-l border-black z-30"></div>
                        <div class="absolute top-4 right-4 w-4 h-4 border-t border-r border-black z-30"></div>
                        <div class="absolute bottom-4 left-4 w-4 h-4 border-b border-l border-black z-30"></div>
                        <div class="absolute bottom-4 right-4 w-4 h-4 border-b border-r border-black z-30"></div>
                        <div class="absolute inset-0 bg-black/5 z-30 pointer-events-none"></div>

                        <!-- Image 1 -->
                        <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=1932&auto=format&fit=crop" class="journey-image active contrast-125" id="p-img-0" alt="Discovery">
                        <!-- Image 2 -->
                        <img src="https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=2584&auto=format&fit=crop" class="journey-image hidden-right contrast-125" id="p-img-1" alt="Design">
                        <!-- Image 3 -->
                        <img src="https://images.unsplash.com/photo-1598228723793-52759bba239c?q=80&w=2070&auto=format&fit=crop" class="journey-image hidden-right contrast-125" id="p-img-2" alt="Build">
                        <!-- Image 4 -->
                        <img src="https://images.unsplash.com/photo-1600210492493-0946911123ea?q=80&w=1974&auto=format&fit=crop" class="journey-image hidden-right contrast-125" id="p-img-3" alt="Handover">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW GALLERY SECTION (Redesigned Editorial Masonry) -->
    <section id="gallery" class="relative py-32 bg-black overflow-hidden border-t border-stone-900">
        <!-- Background Elements -->
        <div class="absolute inset-0 opacity-20 pointer-events-none" style="background-image: radial-gradient(#333 1px, transparent 1px); background-size: 30px 30px;"></div>
        <div class="absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-stone-900/30 to-transparent pointer-events-none"></div>
        
        <div class="container mx-auto px-6 relative z-10">
            <!-- Header with Filter -->
            <div class="flex flex-col lg:flex-row justify-between items-end mb-20 gap-8 reveal">
                <div class="max-w-xl">
                    <span class="text-gold tracking-[0.4em] uppercase text-xs font-bold mb-4 block flex items-center gap-3">
                         <span class="w-8 h-[1px] bg-gold"></span>
                         The Collection
                    </span>
                    <h2 class="font-display text-5xl md:text-7xl text-white font-light">Visual <span class="italic text-gold">Anthology</span></h2>
                </div>
                
                <!-- Filter Tabs -->
                <div class="flex flex-wrap gap-8 border-b border-white/10 pb-4">
                    <button class="filter-btn active text-stone-500 hover:text-white text-sm uppercase tracking-widest font-bold border-b-2 border-transparent hover:border-white/50 pb-4 transition-all">All</button>
                    <button class="filter-btn text-stone-500 hover:text-white text-sm uppercase tracking-widest font-bold border-b-2 border-transparent hover:border-white/50 pb-4 transition-all">Interiors</button>
                    <button class="filter-btn text-stone-500 hover:text-white text-sm uppercase tracking-widest font-bold border-b-2 border-transparent hover:border-white/50 pb-4 transition-all">Architecture</button>
                    <button class="filter-btn text-stone-500 hover:text-white text-sm uppercase tracking-widest font-bold border-b-2 border-transparent hover:border-white/50 pb-4 transition-all">Details</button>
                </div>
            </div>
    
            <!-- Masonry Layout with Focus Effect -->
            <!-- Using columns for true masonry vertical stacking -->
            <div class="columns-1 md:columns-2 lg:columns-3 gap-10 space-y-10 masonry-grid">
                
                <!-- Item 1 (Tall) -->
                <div class="break-inside-avoid masonry-item group relative cursor-pointer reveal" onclick="openLightbox(this.querySelector('img').src)">
                    <div class="relative overflow-hidden border border-white/5 bg-stone-900 p-2 transition-all duration-500 group-hover:border-gold/40">
                         <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop" class="w-full h-auto object-cover transition-transform duration-[1.5s] group-hover:scale-105" alt="Gallery 1">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                         </div>
                         <div class="pt-4 pb-2 px-2 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity">
                            <span class="text-[10px] text-stone-400 uppercase tracking-[0.2em]">01 / Residence</span>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"></i>
                         </div>
                    </div>
                </div>

                <!-- Quote Block (Editorial Break) -->
                <div class="break-inside-avoid masonry-item p-12 border border-gold/20 bg-gradient-to-br from-gold/5 to-transparent flex flex-col justify-center items-center text-center reveal delay-100">
                    <i data-lucide="quote" class="text-gold w-8 h-8 mb-6 opacity-50"></i>
                    <p class="font-display text-2xl md:text-3xl text-stone-200 italic leading-relaxed">"Architecture should speak of its time and place, but yearn for timelessness."</p>
                    <div class="w-12 h-[1px] bg-gold mt-8 opacity-50"></div>
                </div>
    
                <!-- Item 2 (Wide) -->
                <div class="break-inside-avoid masonry-item group relative cursor-pointer reveal delay-200" onclick="openLightbox(this.querySelector('img').src)">
                    <div class="relative overflow-hidden border border-white/5 bg-stone-900 p-2 transition-all duration-500 group-hover:border-gold/40">
                         <div class="relative overflow-hidden aspect-[4/3]">
                            <img src="https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105" alt="Gallery 2">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                         </div>
                         <div class="pt-4 pb-2 px-2 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity">
                            <span class="text-[10px] text-stone-400 uppercase tracking-[0.2em]">02 / Kitchen</span>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"></i>
                         </div>
                    </div>
                </div>

                <!-- Item 3 (Tall) -->
                <div class="break-inside-avoid masonry-item group relative cursor-pointer reveal" onclick="openLightbox(this.querySelector('img').src)">
                    <div class="relative overflow-hidden border border-white/5 bg-stone-900 p-2 transition-all duration-500 group-hover:border-gold/40">
                         <div class="relative overflow-hidden aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1600210491892-03d54c0aaf87?q=80&w=1974&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105" alt="Gallery 3">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                         </div>
                         <div class="pt-4 pb-2 px-2 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity">
                            <span class="text-[10px] text-stone-400 uppercase tracking-[0.2em]">03 / Exterior</span>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"></i>
                         </div>
                    </div>
                </div>

                <!-- Item 4 (Standard) -->
                <div class="break-inside-avoid masonry-item group relative cursor-pointer reveal delay-100" onclick="openLightbox(this.querySelector('img').src)">
                    <div class="relative overflow-hidden border border-white/5 bg-stone-900 p-2 transition-all duration-500 group-hover:border-gold/40">
                         <div class="relative overflow-hidden aspect-square">
                            <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105" alt="Gallery 4">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                         </div>
                         <div class="pt-4 pb-2 px-2 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity">
                            <span class="text-[10px] text-stone-400 uppercase tracking-[0.2em]">04 / Detail</span>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"></i>
                         </div>
                    </div>
                </div>

                <!-- Item 5 (Tall) -->
                <div class="break-inside-avoid masonry-item group relative cursor-pointer reveal delay-200" onclick="openLightbox(this.querySelector('img').src)">
                    <div class="relative overflow-hidden border border-white/5 bg-stone-900 p-2 transition-all duration-500 group-hover:border-gold/40">
                         <div class="relative overflow-hidden aspect-[9/16]">
                            <img src="https://images.unsplash.com/photo-1613545325278-f24b0cae1224?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105" alt="Gallery 5">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                         </div>
                         <div class="pt-4 pb-2 px-2 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity">
                            <span class="text-[10px] text-stone-400 uppercase tracking-[0.2em]">05 / Living</span>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"></i>
                         </div>
                    </div>
                </div>

                <!-- Item 6 (Wide) -->
                <div class="break-inside-avoid masonry-item group relative cursor-pointer reveal" onclick="openLightbox(this.querySelector('img').src)">
                    <div class="relative overflow-hidden border border-white/5 bg-stone-900 p-2 transition-all duration-500 group-hover:border-gold/40">
                         <div class="relative overflow-hidden aspect-video">
                            <img src="https://images.unsplash.com/photo-1558211583-d26f610c1eb1?q=80&w=2000&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105" alt="Gallery 6">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                         </div>
                         <div class="pt-4 pb-2 px-2 flex justify-between items-center opacity-60 group-hover:opacity-100 transition-opacity">
                            <span class="text-[10px] text-stone-400 uppercase tracking-[0.2em]">06 / Lounge</span>
                            <i data-lucide="arrow-up-right" class="w-4 h-4 text-gold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0"></i>
                         </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- LIGHTBOX MODAL (Added to support Gallery functionality) -->
    <div id="lightbox" class="fixed inset-0 z-50 bg-black/95 hidden flex justify-center items-center opacity-0 transition-opacity duration-300" onclick="closeLightbox()">
        <button class="absolute top-6 right-8 text-white hover:text-gold transition-colors" onclick="closeLightbox()">
            <i data-lucide="x" class="w-10 h-10"></i>
        </button>
        <div class="relative max-w-[90vw] max-h-[90vh]" onclick="event.stopPropagation()">
            <img id="lightbox-img" src="" alt="Gallery Preview" class="max-w-full max-h-[90vh] object-contain shadow-2xl border border-white/10">
        </div>
    </div>

    <script>
        lucide.createIcons();

        const observerOptions = {
            root: null,
            rootMargin: '0px 0px -50px 0px',
            threshold: 0.1 
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    if(entry.target.id === 'philosophy-trigger') {
                        const mainCard = document.getElementById('main-card');
                        if(mainCard) mainCard.classList.add('active');
                        document.getElementById('philosophy').classList.add('active');
                    }
                    if(entry.target.id === 'work') {
                         document.getElementById('work').classList.add('active');
                    }
                    observer.unobserve(entry.target); 
                }
            });
        }, observerOptions);

        const animatedElements = document.querySelectorAll('.fade-up, .fade-in, .slide-in-right, .reveal');
        animatedElements.forEach(el => observer.observe(el));

        // Interaction logic for card glow
        const card = document.getElementById('main-card');
        const glow = document.getElementById('card-glow');
        if(card && glow) {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                glow.style.left = `${x - 75}px`;
                glow.style.top = `${y - 75}px`;
            });
        }

        // Parallax and scroll-based continuity line logic
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            
            // Image parallax
            const parallaxImgs = document.querySelectorAll('.image-mask img');
            parallaxImgs.forEach(img => {
                const speed = 0.05;
                img.style.transform = `translateY(${scrolled * speed}px) scale(1.1)`;
            });

            // Adjust continuity line scale based on scroll position near the section
            const line = document.getElementById('scroll-continuity-line');
            const philosophySec = document.getElementById('philosophy');
            const rect = philosophySec.getBoundingClientRect();
            
            if (rect && line) {
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    const progress = (window.innerHeight - rect.top) / window.innerHeight;
                    const scale = Math.min(Math.max(progress * 1.5 - 0.5, 0), 1);
                    line.style.transform = `translateX(-50%) scaleY(${scale})`;
                }
            }
        });

        // --- JOURNEY SECTION LOGIC ---
        let currentStep = 0;
        
        function activateStep(index) {
            if (index === currentStep) return;
            
            // Update Text UI
            const steps = document.querySelectorAll('.process-step');
            steps.forEach((step, i) => {
                const p = step.querySelector('p');
                if (i === index) {
                    p.style.height = p.scrollHeight + 'px';
                    p.style.opacity = '1';
                    step.classList.add('border-black', 'shadow-lg');
                    step.classList.remove('border-stone-200');
                    step.style.zIndex = '10';
                } else {
                    p.style.height = '0';
                    p.style.opacity = '0';
                    step.classList.remove('border-black', 'shadow-lg');
                    step.classList.add('border-stone-200');
                    step.style.zIndex = '1';
                }
            });

            // Update Image UI
            const prevImg = document.getElementById(`p-img-${currentStep}`);
            const nextImg = document.getElementById(`p-img-${index}`);
            
            // Set up entry
            nextImg.classList.remove('active', 'exit-left');
            nextImg.classList.add('hidden-right');
            void nextImg.offsetWidth; // Trigger reflow
            nextImg.classList.remove('hidden-right');
            nextImg.classList.add('active');

            // Set up exit
            prevImg.classList.remove('active');
            prevImg.classList.add('exit-left');

            // Cleanup
            setTimeout(() => {
                if(prevImg !== nextImg) {
                    prevImg.classList.remove('exit-left');
                    prevImg.classList.add('hidden-right');
                }
            }, 800); 

            currentStep = index;
        }

        // Progress bar logic for horizontal scroll
        const scroller = document.getElementById('project-scroller');
        const progressBar = document.getElementById('scroll-progress');

        if (scroller && progressBar) {
            scroller.addEventListener('scroll', () => {
                const scrollLeft = scroller.scrollLeft;
                const scrollWidth = scroller.scrollWidth - scroller.clientWidth;
                const progress = (scrollLeft / scrollWidth) * 100;
                progressBar.style.width = `${progress}%`;
            });
        }

        // --- FILTER BUTTON LOGIC (VISUAL ONLY) ---
        const filterBtns = document.querySelectorAll('.filter-btn');
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                // Note: In a real app, this would filter the isotope grid
            });
        });

        // --- LIGHTBOX LOGIC ---
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        function openLightbox(src) {
            if (!lightbox || !lightboxImg) return;
            lightboxImg.src = src;
            lightbox.classList.remove('hidden');
            // Trigger reflow to enable transition
            void lightbox.offsetWidth; 
            lightbox.classList.remove('opacity-0');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeLightbox() {
            if (!lightbox) return;
            lightbox.classList.add('opacity-0');
            document.body.style.overflow = '';
            setTimeout(() => {
                lightbox.classList.add('hidden');
                if(lightboxImg) lightboxImg.src = '';
            }, 300);
        }

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) {
                closeLightbox();
            }
        });
    </script>
</body>
</html>